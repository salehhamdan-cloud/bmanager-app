import{j as t,a4 as d,a5 as o,p as x,T as m}from"./index-BU7E-q7q.js";import{f as u}from"./dateFormatter-CUKId3Gl.js";const h=e=>{if(e.isCompleted)return{text:"הושלם",color:"text-blue-800",bg:"bg-blue-100"};if(!e.dueDate)return{text:"אין תאריך יעד",color:"text-slate-500",bg:"bg-slate-100"};const r=new Date(e.dueDate),a=new Date;a.setHours(0,0,0,0);const l=r.getTime()-a.getTime(),s=Math.ceil(l/(1e3*60*60*24));return s<0?{text:"פג תוקף",color:"text-red-800",bg:"bg-red-100"}:s<=7?{text:`פג בעוד ${s} ימים`,color:"text-amber-800",bg:"bg-amber-100"}:{text:"בתוקף",color:"text-green-800",bg:"bg-green-100"}},g=({todo:e,onToggle:r,onDelete:a,onEdit:l,onMove:s,isFirst:n,isLast:c})=>{const i=h(e);return t.jsxs("div",{className:`bg-white shadow-sm rounded-lg p-3 flex items-start gap-4 border border-slate-200/60 ${e.isCompleted?"opacity-60":""}`,children:[t.jsx("input",{type:"checkbox",checked:e.isCompleted,onChange:()=>r(e.id),className:"w-5 h-5 text-sky-600 rounded focus:ring-sky-500 cursor-pointer flex-shrink-0 mt-1","aria-label":`סמן משימה כ${e.isCompleted?"לא הושלמה":"הושלמה"}`}),t.jsxs("div",{className:"flex-grow min-w-0",children:[t.jsx("p",{className:`font-semibold text-slate-800 ${e.isCompleted?"line-through":""}`,title:e.description,children:e.description}),t.jsxs("div",{className:"flex items-center gap-2 text-sm flex-wrap mt-1",children:[t.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${i.bg} ${i.color}`,children:i.text}),e.dueDate&&t.jsx("span",{className:"text-slate-500",children:u(e.dueDate)})]})]}),t.jsxs("div",{className:"flex items-center flex-shrink-0",children:[s&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>s(e.id,"up"),disabled:n,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-50 disabled:opacity-30 disabled:cursor-not-allowed",children:t.jsx(d,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>s(e.id,"down"),disabled:c,className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-50 disabled:opacity-30 disabled:cursor-not-allowed",children:t.jsx(o,{className:"w-5 h-5"})})]}),l&&t.jsx("button",{onClick:()=>l(e.id),className:"p-2 text-slate-400 hover:text-sky-600 rounded-full hover:bg-sky-50",title:"ערוך משימה",children:t.jsx(x,{className:"w-5 h-5"})}),a&&t.jsx("button",{onClick:()=>a(e.id),className:"p-2 text-slate-400 hover:text-red-600 rounded-full hover:bg-red-50",title:"מחק משימה",children:t.jsx(m,{className:"w-5 h-5"})})]})]})};export{g as T};
