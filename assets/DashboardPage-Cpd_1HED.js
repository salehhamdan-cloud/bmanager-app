import{r as t,u as p,g as u,H as f,j as s,a as h}from"./index-D-cHbBwn.js";import{D as b}from"./Dashboard-BnFonGuj.js";import"./chart-Zj-L_LRF.js";import"./dateFormatter-CUKId3Gl.js";import"./emailService-Ce1ZuM1T.js";import"./ContactIcons-B1NAvYGF.js";import"./CollapsibleSection-F92uqtdU.js";const y=()=>{const[n,i]=t.useState([]),[r,l]=t.useState(null),[d,e]=t.useState(!0),{addToast:o}=p(),c=t.useCallback(async()=>{e(!0);try{const[a,m]=await Promise.all([u(),f()]);i(a),l(m)}catch(a){console.error("Error fetching dashboard data:",a),o("שגיאה בטעינת נתונים","error")}finally{e(!1)}},[o]);return t.useEffect(()=>{c()},[c]),d||!r?s.jsx(h,{text:"טוען נתונים..."}):s.jsx("div",{className:"animate-fadeInUp",children:s.jsx(b,{stats:r,projects:n,className:"mb-8"})})};export{y as default};
