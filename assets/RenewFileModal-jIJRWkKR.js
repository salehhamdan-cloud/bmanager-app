import{r as a,u as h,j as e,M as g,a as y}from"./index-BU7E-q7q.js";const j=({isOpen:t,onClose:o,onSave:m,file:l})=>{const[s,i]=a.useState(null),[d,c]=a.useState(""),[r,u]=a.useState(!1),{addToast:f}=h();a.useEffect(()=>{t&&(i(null),c(""))},[t]);const p=n=>{const b=n.target.files?.[0];b&&i(b)},x=async()=>{if(l){if(!s){f("יש לבחור קובץ חדש.","warning");return}u(!0),await m(l,s,d||void 0),u(!1)}};return!t||!l?null:e.jsxs(g,{isOpen:t,onClose:o,title:`חידוש קובץ: ${l.name}`,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-file-upload",className:"label-class",children:"שלב 1: העלה את הקובץ המעודכן"}),e.jsx("input",{id:"new-file-upload",type:"file",onChange:p,className:"mt-1 block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-sky-50 file:text-sky-700 hover:file:bg-sky-100 border border-slate-300 rounded-lg"}),s&&e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["נבחר: ",s.name]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new-due-date",className:"label-class",children:"שלב 2: הגדר תאריך תפוגה חדש (אופציונלי)"}),e.jsx("input",{id:"new-due-date",type:"date",value:d,onChange:n=>c(n.target.value),className:"input-class w-full mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{type:"button",onClick:o,className:"btn-secondary",disabled:r,children:"ביטול"}),e.jsx("button",{type:"button",onClick:x,className:"btn-primary",disabled:r||!s,children:r?e.jsx(y,{size:"sm"}):"שמור חידוש"})]})]}),e.jsx("style",{children:`
        .label-class { display: block; margin-bottom: 0.25rem; font-size: 0.875rem; font-weight: 500; color: #334155; }
        .input-class { display: block; width: 100%; border: 1px solid #cbd5e1; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
        .btn-primary { padding: 0.5rem 1rem; background-color: #0284c7; color: white; border-radius: 0.375rem; font-weight: 500; }
        .btn-primary:hover:not(:disabled) { background-color: #0369a1; }
        .btn-primary:disabled { opacity: 0.6; cursor: not-allowed; }
        .btn-secondary { padding: 0.5rem 1rem; background-color: #f1f5f9; color: #334155; border: 1px solid #cbd5e1; border-radius: 0.375rem; font-weight: 500; }
        .btn-secondary:hover:not(:disabled) { background-color: #e2e8f0; }
      `})]})};export{j as R};
