import{r as d,j as e}from"./index-BU7E-q7q.js";const J=()=>{const[N,F]=d.useState("standard"),[l,o]=d.useState("0"),[M,b]=d.useState(null),[p,C]=d.useState(null),[w,h]=d.useState(!0),[y,f]=d.useState(0),c=t=>{w?(o(t),h(!1)):o(l==="0"?t:l+t)},q=()=>{w?(o("0."),h(!1)):l.includes(".")||o(l+".")},E=()=>{o("0"),b(null),C(null),h(!0)},O=()=>{if(M===null||p===null)return parseFloat(l);const t=parseFloat(l);return{"/":(n,i)=>i===0?0:n/i,"*":(n,i)=>n*i,"+":(n,i)=>n+i,"-":(n,i)=>n-i,"=":(n,i)=>i}[p](M,t)},j=t=>{const a=parseFloat(l);if(p&&!w){const r=O();b(r),o(String(r))}else b(a);h(!0),C(t)},I=()=>{if(p){const t=O();o(String(t)),b(null),C(null),h(!0)}},k=t=>{const a=parseFloat(l),r=t(a);o(String(r)),h(!0)},R=()=>k(t=>t*-1),T=()=>k(t=>Math.pow(t,2)),V=()=>{parseFloat(l)<0||k(a=>Math.sqrt(a))},D=()=>k(t=>t/100),P=()=>f(0),B=()=>{o(String(y)),h(!0)},U=()=>{f(y+parseFloat(l)),h(!0)},W=()=>{f(y-parseFloat(l)),h(!0)},[g,S]=d.useState("rectangle"),[u,v]=d.useState({}),[A,x]=d.useState(null),m=t=>{v({...u,[t.target.name]:t.target.value}),x(null)},z=()=>{const t=Object.fromEntries(Object.entries(u).map(([r,n])=>[r,parseFloat(String(n))]));let a=0;switch(g){case"rectangle":t.length>0&&t.width>0&&(a=t.length*t.width);break;case"circle":t.radius>0&&(a=Math.PI*Math.pow(t.radius,2));break;case"triangle":t.base>0&&t.height>0&&(a=.5*t.base*t.height);break}x(a)},G=()=>{switch(g){case"rectangle":return e.jsxs(e.Fragment,{children:[" ",e.jsx("input",{name:"length",type:"number",placeholder:"אורך",value:u.length||"",onChange:m,className:"input-class"})," ",e.jsx("input",{name:"width",type:"number",placeholder:"רוחב",value:u.width||"",onChange:m,className:"input-class"})," "]});case"circle":return e.jsx("input",{name:"radius",type:"number",placeholder:"רדיוס",value:u.radius||"",onChange:m,className:"input-class"});case"triangle":return e.jsxs(e.Fragment,{children:[" ",e.jsx("input",{name:"base",type:"number",placeholder:"בסיס",value:u.base||"",onChange:m,className:"input-class"})," ",e.jsx("input",{name:"height",type:"number",placeholder:"גובה",value:u.height||"",onChange:m,className:"input-class"})," "]})}},s=({onClick:t,className:a="",children:r,colSpan:n=1})=>e.jsx("button",{onClick:t,className:`col-span-${n} flex items-center justify-center text-xl sm:text-2xl font-semibold rounded-2xl transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 ${a}`,children:r}),$=({active:t,onClick:a,children:r})=>e.jsx("button",{onClick:a,className:`w-full py-3 text-sm font-semibold rounded-t-lg transition-colors ${t?"bg-slate-800 text-white":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:r});return e.jsxs("div",{className:"max-w-sm mx-auto bg-white rounded-3xl shadow-2xl p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx($,{active:N==="standard",onClick:()=>F("standard"),children:"מחשבון"}),e.jsx($,{active:N==="area",onClick:()=>F("area"),children:"חישוב שטחים"})]}),N==="standard"?e.jsxs("div",{className:"bg-slate-800 rounded-2xl p-4 space-y-4",children:[e.jsx("div",{className:"bg-slate-900/70 text-white text-right rtl:text-left rounded-2xl p-4 break-words min-h-[5rem] flex items-end justify-end",children:e.jsx("p",{className:"text-4xl sm:text-5xl font-mono tracking-wider",children:l})}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsx(s,{onClick:P,className:"bg-slate-500 text-white hover:bg-slate-400",children:"MC"}),e.jsx(s,{onClick:B,className:"bg-slate-500 text-white hover:bg-slate-400",children:"MR"}),e.jsx(s,{onClick:W,className:"bg-slate-500 text-white hover:bg-slate-400",children:"M-"}),e.jsx(s,{onClick:U,className:"bg-slate-500 text-white hover:bg-slate-400",children:"M+"}),e.jsx(s,{onClick:T,className:"bg-slate-600 text-white hover:bg-slate-500",children:"x²"}),e.jsx(s,{onClick:V,className:"bg-slate-600 text-white hover:bg-slate-500",children:"√"}),e.jsx(s,{onClick:D,className:"bg-slate-600 text-white hover:bg-slate-500",children:"%"}),e.jsx(s,{onClick:E,className:"bg-slate-600 text-white hover:bg-slate-500",children:"C"}),e.jsx(s,{onClick:()=>c("7"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"7"}),e.jsx(s,{onClick:()=>c("8"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"8"}),e.jsx(s,{onClick:()=>c("9"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"9"}),e.jsx(s,{onClick:()=>j("/"),className:"bg-sky-600 text-white hover:bg-sky-500",children:"÷"}),e.jsx(s,{onClick:()=>c("4"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"4"}),e.jsx(s,{onClick:()=>c("5"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"5"}),e.jsx(s,{onClick:()=>c("6"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"6"}),e.jsx(s,{onClick:()=>j("*"),className:"bg-sky-600 text-white hover:bg-sky-500",children:"×"}),e.jsx(s,{onClick:()=>c("1"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"1"}),e.jsx(s,{onClick:()=>c("2"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"2"}),e.jsx(s,{onClick:()=>c("3"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"3"}),e.jsx(s,{onClick:()=>j("-"),className:"bg-sky-600 text-white hover:bg-sky-500",children:"-"}),e.jsx(s,{onClick:R,className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"+/-"}),e.jsx(s,{onClick:()=>c("0"),className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"0"}),e.jsx(s,{onClick:q,className:"bg-slate-700 text-slate-100 hover:bg-slate-600",children:"."}),e.jsx(s,{onClick:()=>j("+"),className:"bg-sky-600 text-white hover:bg-sky-500",children:"+"}),e.jsx(s,{onClick:I,colSpan:4,className:"bg-sky-600 text-white hover:bg-sky-500",children:"="})]})]}):e.jsxs("div",{className:"bg-slate-100 rounded-2xl p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{onClick:()=>{S("rectangle"),v({}),x(null)},className:`p-2 text-sm rounded-md ${g==="rectangle"?"bg-sky-600 text-white":"bg-white"}`,children:"מלבן"}),e.jsx("button",{onClick:()=>{S("circle"),v({}),x(null)},className:`p-2 text-sm rounded-md ${g==="circle"?"bg-sky-600 text-white":"bg-white"}`,children:"עיגול"}),e.jsx("button",{onClick:()=>{S("triangle"),v({}),x(null)},className:`p-2 text-sm rounded-md ${g==="triangle"?"bg-sky-600 text-white":"bg-white"}`,children:"משולש"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:G()}),e.jsx("button",{onClick:z,className:"w-full btn-primary",children:"חשב שטח"}),A!==null&&e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-slate-600",children:"השטח הוא:"}),e.jsx("p",{className:"text-3xl font-bold text-sky-700",children:A.toFixed(2)})]})]}),e.jsx("style",{children:`
                button {
                    height: 3.5rem;
                }
                .input-class { display: block; width: 100%; border: 1px solid #cbd5e1; border-radius: 0.375rem; padding: 0.5rem 0.75rem; }
                .btn-primary { padding: 0.5rem 1rem; background-color: #0284c7; color: white; border-radius: 0.375rem; font-weight: 500; height: auto; }
            `})]})};export{J as default};
