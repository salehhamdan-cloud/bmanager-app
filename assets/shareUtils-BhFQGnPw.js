async function i(t,a){const r=await(await fetch(t)).blob();return new File([r],a,{type:r.type})}const s=async(t,a,o)=>{if(!navigator.share)throw new Error("שיתוף אינו נתמך בדפדפן זה.");try{const e={files:[await i(t,a)],title:a,text:o||`קובץ: ${a}`};navigator.canShare&&navigator.canShare(e)?await navigator.share(e):await navigator.share(e)}catch(r){if(r.name!=="AbortError")throw console.error("Error sharing file:",r),new Error(`לא ניתן היה לשתף את הקובץ. סיבה: ${r.message}`)}},l=async(t,a)=>{if(!navigator.share)throw new Error("שיתוף אינו נתמך בדפדפן זה.");const o=new File([""],"dummy.txt",{type:"text/plain"});if(!navigator.canShare||!navigator.canShare({files:[o]}))throw new Error("שיתוף קבצים אינו נתמך בדפדפן זה.");try{const r=await Promise.all(t.map(n=>i(n.dataUrl,n.name))),e={files:r,title:`קבצים משותפים (${r.length})`,text:a||"מצורפים קבצים"};if(navigator.canShare(e))await navigator.share(e);else throw new Error("לא ניתן לשתף את הקבצים שנבחרו (ייתכן שהם גדולים מדי או מסוג לא נתמך).")}catch(r){if(r.name!=="AbortError")throw console.error("Error sharing files:",r),new Error(`לא ניתן היה לשתף את הקבצים. סיבה: ${r.message}`)}};export{s as a,i as d,l as s};
